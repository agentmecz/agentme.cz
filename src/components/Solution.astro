---
import SectionWrapper from './ui/SectionWrapper.astro';
import FadeIn from './ui/FadeIn.astro';
import GradientText from './ui/GradientText.astro';
import { solution } from '../data/content';

const layerIcons: string[] = [
  `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>`,
  `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="m9 12 2 2 4-4"/></svg>`,
  `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="5" width="20" height="14" rx="2"/><path d="M2 10h20"/></svg>`,
  `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/></svg>`,
];
---

<SectionWrapper>
  <FadeIn>
    <h2 class="mb-16 text-center text-3xl font-bold tracking-tight md:text-4xl lg:text-5xl">
      <GradientText as="span">{solution.headline}</GradientText>
    </h2>
  </FadeIn>

  <div class="relative mx-auto max-w-2xl">
    <!-- Connecting line -->
    <div class="absolute left-8 top-0 bottom-0 hidden w-px bg-gradient-to-b from-accent-cyan/20 via-accent-purple/20 to-transparent md:block" aria-hidden="true" />

    <div class="space-y-6">
      {solution.layers.map((layer, i) => (
        <FadeIn delay={i * 120}>
          <div class="group relative flex items-start gap-6 rounded-xl border border-border bg-bg-card/30 p-6 transition-all duration-300 hover:border-border-glow hover:bg-bg-card/60">
            <!-- Icon dot -->
            <div class="flex h-12 w-12 shrink-0 items-center justify-center rounded-lg bg-bg-secondary text-accent-cyan transition-colors group-hover:bg-accent-cyan/10">
              <Fragment set:html={layerIcons[i]} />
            </div>
            <div>
              <h3 class="mb-1 text-lg font-semibold">{layer.name}</h3>
              <p class="text-text-secondary">{layer.description}</p>
              <p class="mt-1 text-xs text-text-muted">{layer.detail}</p>
            </div>
          </div>
        </FadeIn>
      ))}
    </div>
  </div>
</SectionWrapper>
